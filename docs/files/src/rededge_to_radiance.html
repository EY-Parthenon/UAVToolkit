<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" href="./../../css/haroopad-markdown.css" type="text/css" />
<!--  for adding syntax colorizer --> 
<link rel="stylesheet" href="./../../js/highlight/styles/github.css"> 
<script src="./../../js/highlight/highlight.pack.js"></script>
<script > hljs.initHighlightingOnLoad(); </script>

<!--
<link rel="stylesheet" href="./../../js/highlight/styles/line-numbers.css"> 
<script src="./../../js/highlight/highlightjs-line-numbers.min.js"></script>
<script>hljs.initLineNumbersOnLoad();</script>
-->
<!-- head contents for header-bar -->
<script src="./../../js/jquery.min.js"></script>
<script src="./../../js/bootstrap.min.js"></script>
<script src="./../../js/lunr.min.js"></script>
<script src="./../../js/clipboard.min.js"></script>
<script src="./../../js/copy-button.js"></script>


<!-- load colors for IDL syntax and anchor fix with fixed header-->
<style type="text/css">
	@import url("./../../css/bootstrap.min.css");
	@import url("./../../css/font-awesome.min.css");
	@import url("./../../css/cosmos.bootstrap.min.css");
	@import url("./../../css/idl-styles.css");
	@import url("./../../css/anchor-fix.css");
	@import url("./../../css/sidebar.css");
	@import url("./../../css/callouts.css");
	@import url("./../../css/figures-and-tables.css");
	@import url("./../../css/copy-button.css");
	@import url("./../../css/general-styles.css");
</style>
</head>
<body data-spy="scroll" data-target="#myScrollspy" data-offset="15">

<div id="header" class="navbar navbar-default navbar-fixed-top">
    <div class="navbar-header">
        <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target=".navbar-collapse">
            <i class="icon-reorder"></i>
        </button>
    </div>
    <nav class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
            <li>
                <a href="./../../index.html#"><i class="fa fa-home"></i> Home</a>
            </li>
            <li class="dropdown">
                <a style="top:3px" href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-book">  Contents</i></a>
                <ul class="dropdown-menu">
<li><a href="./../../files/UAVToolkit/uav_toolkit.html#">File 1: uav_toolkit.pro</a></li>
<li><a href="./../../files/src/unjoin_rededge_datadir.html#">File 2: unjoin_rededge_datadir.pro</a></li>
<li><a href="./../../files/src/rededge_to_radiance.html#">File 3: rededge_to_radiance.pro</a></li>
<li><a href="./../../files/src/join_rededge_datadirs.html#">File 4: join_rededge_datadirs.pro</a></li>
<li><a href="./../../files/src/image_info__define.html#">File 5: image_info__define.pro</a></li>
<li><a href="./../../files/src/generate_gps_file.html#">File 6: generate_gps_file.pro</a></li>
<li><a href="./../../files/src/generate_cam_file.html#">File 7: generate_cam_file.pro</a></li>
<li><a href="./../../files/batchTasks/batchrededge.html#">File 8: batchrededge.pro</a></li>
<li><a href="./../../files/bandAlignment/bandalignmenttiepoints__define.html#">File 9: bandalignmenttiepoints__define.pro</a></li>
<li><a href="./../../files/bandAlignment/bandalignmenttask.html#">File 10: bandalignmenttask.pro</a></li>
<li><a href="./../../files/bandAlignment/bandalignment_simple_kappa_filter.html#">File 11: bandalignment_simple_kappa_filter.pro</a></li>
<li><a href="./../../files/bandAlignment/bandalignment_setupsensorforprocessing.html#">File 12: bandalignment_setupsensorforprocessing.pro</a></li>
<li><a href="./../../files/bandAlignment/bandalignment_set_task_parameters.html#">File 13: bandalignment_set_task_parameters.pro</a></li>
<li><a href="./../../files/bandAlignment/bandalignment_savereferencetiepoints.html#">File 14: bandalignment_savereferencetiepoints.pro</a></li>
<li><a href="./../../files/bandAlignment/bandalignment_processsensor_getreferencetiepoints.html#">File 15: bandalignment_processsensor_getreferencetiepoints.pro</a></li>
<li><a href="./../../files/bandAlignment/bandalignment_group_to_virtualraster.html#">File 16: bandalignment_group_to_virtualraster.pro</a></li>
<li><a href="./../../files/bandAlignment/bandalignment_get_image_groups.html#">File 17: bandalignment_get_image_groups.pro</a></li>
<li><a href="./../../files/bandAlignment/bandalignment_generatereferencetiepoints.html#">File 18: bandalignment_generatereferencetiepoints.pro</a></li>
<li><a href="./../../files/bandAlignment/bandalignment_find_good_image_group.html#">File 19: bandalignment_find_good_image_group.pro</a></li>
<li><a href="./../../files/bandAlignment/bandalignment_applyreferencetiepointswithidl.html#">File 20: bandalignment_applyreferencetiepointswithidl.pro</a></li>
<li><a href="./../../files/bandAlignment/bandalignment_applyreferencetiepointswithenvi.html#">File 21: bandalignment_applyreferencetiepointswithenvi.pro</a></li>
<li><a href="./../../files/bandAlignment/bandalignment_applyreferencetiepointstogroups.html#">File 22: bandalignment_applyreferencetiepointstogroups.pro</a></li>
<li><a href="./../../files/custom_code/README.html#">File 23: UAVToolkit Directory custom_code</a></li>
<li><a href="./../../files/CONTRIBUTING.html#">File 24: Contributing</a></li>
                    <!--<li><a href="#">Chapter 1</a></li>-->
                </ul>
            </li>
        </ul>
      <a class="navbar-brand" href="#">
         UAVToolkit: File 3
      </a>
      <div class="pull-right">
        <a href="https://www.harrisgeospatial.com" target="_blank"><img src="./../../images/Harris_wR_White-RedA.png" style="height:41px; width:155px; position:relative; top:5px; right:20px"></img></a>
      </div>
      <a class="navbar-brand pull-right" href="#" style="position:relative;right:30px;" target="_blank">
        Search
      </a>
    </nav>
</div>
<div style="padding-top:60px;"> 
<div class="container">
 <row>
   <nav class="col-xs-3 bs-docs-sidebar" id="myScrollspy">
      <ul id="sidebar" class="nav nav-stacked fixed sidebar-overflow">
        <li><a href="#" class="side_tt", side_tt="rededge_to_radiance.pro">rededge_to_radiance.pro</a></li>
        <li>
          <a href="#rededge_to_radiance-head_1" class="side_tt", side_tt="extract_metadata()">extract_metadata()</a>
            <ul class="nav nav-stacked">
              <li><a href="#rededge_to_radiance-head_2" class="side_tt", side_tt="Syntax">Syntax</a></li>
              <li><a href="#rededge_to_radiance-head_3" class="side_tt", side_tt="Arguments">Arguments</a></li>
              <li><a href="#rededge_to_radiance-head_6" class="side_tt", side_tt="Author">Author</a></li>
            </ul>
        <li>
        <li>
          <a href="#rededge_to_radiance-head_7" class="side_tt", side_tt="vmap()">vmap()</a>
            <ul class="nav nav-stacked">
              <li><a href="#rededge_to_radiance-head_8" class="side_tt", side_tt="Syntax">Syntax</a></li>
              <li><a href="#rededge_to_radiance-head_9" class="side_tt", side_tt="Arguments">Arguments</a></li>
              <li><a href="#rededge_to_radiance-head_12" class="side_tt", side_tt="Keywords">Keywords</a></li>
              <li><a href="#rededge_to_radiance-head_16" class="side_tt", side_tt="Author">Author</a></li>
            </ul>
        <li>
        <li>
          <a href="#rededge_to_radiance-head_17" class="side_tt", side_tt="rededge_to_radiance()">rededge_to_radiance()</a>
            <ul class="nav nav-stacked">
              <li><a href="#rededge_to_radiance-head_18" class="side_tt", side_tt="Syntax">Syntax</a></li>
              <li><a href="#rededge_to_radiance-head_19" class="side_tt", side_tt="Arguments">Arguments</a></li>
              <li><a href="#rededge_to_radiance-head_20" class="side_tt", side_tt="Keywords">Keywords</a></li>
              <li><a href="#rededge_to_radiance-head_22" class="side_tt", side_tt="Author">Author</a></li>
            </ul>
        <li>
      </ul>
    </nav>
    <div class="col-sm-9">
<div id="rededge_to_radiance">
<a name="rededge_to_radiance"></a>
</div>
<h1 id="rededge_to_radiance.pro">rededge_to_radiance.pro</h1>
<hr />
<p>This file contains the code needed to convert the raw pixel values from a RedEdge image directly to radiance. This workflow was taken from the following source:</p>
<pre class="idl_code_block">
[<font class="idl_struct_tag">https</font>://support.<font class="idl_prop">micasense</font>.<font class="idl_prop">com</font>/<font class="idl_struct_tag">hc/en-us/articles/115000351194-RedEdge-Camera-Radiometric-Calibration-Model](https</font>://support.<font class="idl_prop">micasense</font>.<font class="idl_prop">com</font>/hc/en-us/articles/<font class="idl_num">115000351194</font>-RedEdge-Camera-Radiometric-Calibration-Model)
</pre>
<p>It does not currently account for sensor orientation with a DLS, but support is planned.</p>
<p>You will need a sensor that has the correct metadata for this function to work without throwing an error during processing and it should be used with a catch block to ensure that the source program continues running if there are issues.</p>
<div id="rededge_to_radiance-head_0">
<a class="anchor_sub" name="rededge_to_radiance-head_0"></a>
</div>
<h3 id="author">Author</h3>
<p>Zachary Norman - GitHub: znorman-harris</p>
<div id="rededge_to_radiance-head_1">
<a class="anchor_sub" name="rededge_to_radiance-head_1"></a>
</div>
<hr />
<h2 id="extract_metadata">extract_metadata()</h2>
<p>Simple function that validates and returns nested keys from within a hash/distionary object.</p>
<p>It will return the value from the hash if it exists, otherwise an error will be thrown.</p>
<p>If the item in question is a list, this function converts the list to an array for convenience.</p>
<div id="rededge_to_radiance-head_2">
<a class="anchor_sub" name="rededge_to_radiance-head_2"></a>
</div>
<h3 id="syntax">Syntax</h3>
<pre class="no-copy-button">Result = extract_metadata(<a href="#params1-0">item</a>, <a href="#params1-1">keys</a>)</pre>
<div id="rededge_to_radiance-head_3">
<a class="anchor_sub" name="rededge_to_radiance-head_3"></a>
</div>
<h3 id="arguments">Arguments</h3>
<p><a class="anchor_sub" name="params1-0"></a></p>
<p><a class="anchor_sub" name="rededge_to_radiance-head_4"></a></p>
<h4 id="item">ITEM</h4>
<p><strong>in, required, type=hash/dictionary</strong></p>
<p>The hash or dictionary that you want to extract keys from</p>
<p><a class="anchor_sub" name="params1-1"></a></p>
<p><a class="anchor_sub" name="rededge_to_radiance-head_5"></a></p>
<h4 id="keys">KEYS</h4>
<p><strong>in, required, type=string/string array</strong></p>
<p>Specify the key/keys that you want to check and extract</p>
<div id="rededge_to_radiance-head_6">
<a class="anchor_sub" name="rededge_to_radiance-head_6"></a>
</div>
<h3 id="author-1">Author</h3>
<p>Zachary Norman - GitHub: znorman-harris</p>
<div id="rededge_to_radiance-head_7">
<a class="anchor_sub" name="rededge_to_radiance-head_7"></a>
</div>
<hr />
<h2 id="vmap">vmap()</h2>
<p>Returns 2D array which is the correction for vignetting with the sensor.</p>
<div id="rededge_to_radiance-head_8">
<a class="anchor_sub" name="rededge_to_radiance-head_8"></a>
</div>
<h3 id="syntax-1">Syntax</h3>
<pre class="no-copy-button">Result = vmap(<a href="#params2-0">coeff</a>, <a href="#params2-1">dims</a>[ <a href="#keywords2-0">X</a> = array ], [ <a href="#keywords2-1">Y</a> = array ], [ <a href="#keywords2-2">R</a> = array ])</pre>
<div id="rededge_to_radiance-head_9">
<a class="anchor_sub" name="rededge_to_radiance-head_9"></a>
</div>
<h3 id="arguments-1">Arguments</h3>
<p><a class="anchor_sub" name="params2-0"></a></p>
<p><a class="anchor_sub" name="rededge_to_radiance-head_10"></a></p>
<h4 id="coeff">COEFF</h4>
<p><strong>in, required, type=array[6]</strong></p>
<p>Contains the 6 polynomial coefficients for correcting vignetting effects</p>
<p><a class="anchor_sub" name="params2-1"></a></p>
<p><a class="anchor_sub" name="rededge_to_radiance-head_11"></a></p>
<h4 id="dims">DIMS</h4>
<p><strong>in, required, type=array[2]</strong></p>
<p>The dimensions of the image in columns, rows.</p>
<div id="rededge_to_radiance-head_12">
<a class="anchor_sub" name="rededge_to_radiance-head_12"></a>
</div>
<h3 id="keywords">Keywords</h3>
<p><a class="anchor_sub" name="keywords2-0"></a></p>
<p><a class="anchor_sub" name="rededge_to_radiance-head_13"></a></p>
<h4 id="x">X</h4>
<p><strong>out, optional, type=array</strong></p>
<p>The 2D array with X pixel locations</p>
<p><a class="anchor_sub" name="keywords2-1"></a></p>
<p><a class="anchor_sub" name="rededge_to_radiance-head_14"></a></p>
<h4 id="y">Y</h4>
<p><strong>out, optional, type=array</strong></p>
<p>The 2D array with Y pixel locations</p>
<p><a class="anchor_sub" name="keywords2-2"></a></p>
<p><a class="anchor_sub" name="rededge_to_radiance-head_15"></a></p>
<h4 id="r">R</h4>
<p><strong>out, optional, type=array</strong></p>
<p>The 2D array that contains the equation sqrt((x-cx)^2 + (y-cy)^2)</p>
<div id="rededge_to_radiance-head_16">
<a class="anchor_sub" name="rededge_to_radiance-head_16"></a>
</div>
<h3 id="author-2">Author</h3>
<p>Zachary Norman - GitHub:znorman-harris</p>
<div id="rededge_to_radiance-head_17">
<a class="anchor_sub" name="rededge_to_radiance-head_17"></a>
</div>
<hr />
<h2 id="rededge_to_radiance">rededge_to_radiance()</h2>
<p>Function that takes RedEdge data and converts the pixel values directly to radiance if all of the necessary metadata is present. This routine does not account for DLS sensors and the orientation of the sensor, but that support is planned.</p>
<p>This function is overly cautious and makes sure that all metadata is present, otherwise an error is thrown. This should be used with a catch block to ensure that we can process our data correctly.</p>
<div id="rededge_to_radiance-head_18">
<a class="anchor_sub" name="rededge_to_radiance-head_18"></a>
</div>
<h3 id="syntax-2">Syntax</h3>
<pre class="no-copy-button">Result = rededge_to_radiance([ <a href="#keywords3-0">DAT</a> = array ])</pre>
<div id="rededge_to_radiance-head_19">
<a class="anchor_sub" name="rededge_to_radiance-head_19"></a>
</div>
<h3 id="arguments-2">Arguments</h3>
<p>file: in, required, type=string Specify the RedEdge file that you want to open and attempt to convert to radiance.</p>
<div id="rededge_to_radiance-head_20">
<a class="anchor_sub" name="rededge_to_radiance-head_20"></a>
</div>
<h3 id="keywords-1">Keywords</h3>
<p><a class="anchor_sub" name="keywords3-0"></a></p>
<p><a class="anchor_sub" name="rededge_to_radiance-head_21"></a></p>
<h4 id="dat">DAT</h4>
<p><strong>in/out, optional, type=array</strong></p>
<p>For <strong>input</strong>, specify the image data for the scene that will have the correction applied.</p>
<p>For <strong>output</strong>, this keyword contains the original scene data so that you don't need to read it in multiple times.</p>
<div id="rededge_to_radiance-head_22">
<a class="anchor_sub" name="rededge_to_radiance-head_22"></a>
</div>
<h3 id="author-3">Author</h3>
<p>Zachary Norman - GitHub:znorman-harris</p>
</div>
</row>
</div>
</body>
</html>
